# Проект автотестов для калькулятора

В папке `QA-Portfolio/Calc-Project/Autotests/Pytest` находятся два ключевых файла автотестов:

## Файлы тестов
- **`calc_test.py`**  
  Тесты для локального запуска (требуют GUI)  
- **`calc_test_new.py`**  
  Тесты, адаптированные для CI/CD в GitHub Actions  

## Проблема и решение
Изначальная реализация калькулятора ([исходный код](https://github.com/Ewerall/CalcQA/tree/main)) столкнулась с фундаментальными ограничениями:
1. **Смешение логики и GUI**  
   Класс `ModernCalculator` объединял логику вычислений и интерфейс, что делало автотестирование невозможным без взаимодействия с окнами приложения.

2. **Проблемы автоматизации**  
   - Тестам требовалось закрывать всплывающие окна ошибок
   - GitHub Actions не поддерживает GUI-тестирование (Лишь настройка виртуального дисплея Xvfb, что все равно не решало другие проблемы)
   - Невозможно изолированно тестировать вычислительную логику

3. **Рефакторинг**  
   Для решения этих проблем:
   - Переработана архитектура приложения (разделение логики и GUI)
   - Созданы две версии автотестов:
     - Локальная версия (`calc_test.py`) для тестирования GUI через `calc_evil.py`
     - CI-версия (`calc_test_new.py`) для headless-тестирования чистой логики

## Интеграция с GitHub Actions
Актуальные тесты [`calc_test_new.py`](https://github.com/Ewerall/CalcQA/blob/main/calc_test.py) работают в пайплайне благодаря:
- Отсутствию зависимостей от GUI
- Поддержке headless-режима
- Изолированному тестированию вычислительных функций
